diff -r 1ad106746e94 include/pthread.h
--- a/include/pthread.h	Mon Mar 25 00:43:27 2013 -0600
+++ b/include/pthread.h	Mon Mar 25 00:44:35 2013 -0600
@@ -82,7 +82,7 @@
 /* MSB 8-bit major version, 8-bit minor version, 16-bit patch level.  */
 #define __WINPTHREADS_VERSION 0x00050000
 
-#if defined DLL_EXPORT
+#if defined DLL_EXPORT && !defined WINPTHREAD_STATIC
 #ifdef IN_WINPTHREAD
 #define WINPTHREAD_API __declspec(dllexport)
 #else
diff -r 1ad106746e94 include/sched.h
--- a/include/sched.h	Mon Mar 25 00:43:27 2013 -0600
+++ b/include/sched.h	Mon Mar 25 00:44:35 2013 -0600
@@ -49,7 +49,7 @@
 extern "C" {
 #endif
 
-#if defined DLL_EXPORT && !defined (WINPTHREAD_EXPORT_ALL_DEBUG)
+#if defined DLL_EXPORT && !defined (WINPTHREAD_EXPORT_ALL_DEBUG) && !defined WINPTHREAD_STATIC
 #ifdef IN_WINPTHREAD
 #define WINPTHREAD_SCHED_API __declspec(dllexport)
 #else
diff -r 1ad106746e94 include/semaphore.h
--- a/include/semaphore.h	Mon Mar 25 00:43:27 2013 -0600
+++ b/include/semaphore.h	Mon Mar 25 00:44:35 2013 -0600
@@ -27,7 +27,7 @@
 extern "C" {
 #endif
 
-#if defined DLL_EXPORT && !defined (WINPTHREAD_EXPORT_ALL_DEBUG)
+#if defined DLL_EXPORT && !defined (WINPTHREAD_EXPORT_ALL_DEBUG) && !defined WINPTHREAD_STATIC
 #ifdef IN_WINPTHREAD
 #define WINPTHREAD_SEMA_API __declspec(dllexport)
 #else
