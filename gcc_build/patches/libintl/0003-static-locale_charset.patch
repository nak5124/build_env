--- gettext-0.19.2/gettext-runtime/intl/localcharset.c.orig	2014-07-24 17:46:54.721150000 +0400
+++ gettext-0.19.2/gettext-runtime/intl/localcharset.c	2014-08-01 23:46:23.527989681 +0400
@@ -23,6 +23,10 @@
 
 # include <config.h>
 
+#ifndef STATIC
+#define STATIC static
+#endif
+
 /* Specification.  */
 #include "localcharset.h"
 
--- gettext-0.19.2/gettext-runtime/intl/localcharset.h.orig	2014-07-24 17:46:54.721150000 +0400
+++ gettext-0.19.2/gettext-runtime/intl/localcharset.h	2014-08-01 23:48:01.816349439 +0400
@@ -31,7 +31,12 @@
    The result must not be freed; it is statically allocated.
    If the canonical name cannot be determined, the result is a non-canonical
    name.  */
-extern const char * locale_charset (void);
+#ifdef STATIC
+STATIC
+#else
+extern
+#endif
+const char * locale_charset (void);
 
 
 #ifdef __cplusplus
