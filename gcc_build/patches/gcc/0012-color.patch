--- a/gcc/diagnostic-color.c
+++ b/gcc/diagnostic-color.c
@@ -263,14 +263,6 @@
       return true;
 }
 
-#if defined(_WIN32)
-bool
-colorize_init (diagnostic_color_rule_t)
-{
-  return false;
-}
-#else
-
 /* Return true if we should use color when in auto mode, false otherwise. */
 static bool
 should_colorize (void)
@@ -298,4 +290,3 @@
       gcc_unreachable ();
     }
 }
-#endif
--- a/gcc/toplev.c
+++ b/gcc/toplev.c
@@ -1237,7 +1234,7 @@
   if (!global_options_set.x_flag_diagnostics_show_color
       && getenv ("GCC_COLORS"))
     pp_show_color (global_dc->printer)
-      = colorize_init (DIAGNOSTICS_COLOR_AUTO);
+      = colorize_init (DIAGNOSTICS_COLOR_YES);
 
   /* Allow the front end to perform consistency checks and do further
      initialization based on the command line options.  This hook also
