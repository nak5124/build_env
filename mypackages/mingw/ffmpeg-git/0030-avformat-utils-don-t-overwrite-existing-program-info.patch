From 31ce909ef4c56c142b16fd318f5bbab843e8f6a1 Mon Sep 17 00:00:00 2001
From: Hendrik Leppkes <h.leppkes@gmail.com>
Date: Fri, 31 Jan 2014 16:16:09 +0100
Subject: [PATCH 30/63] avformat/utils: don't overwrite existing program infos
 in av_new_program

---
 libavformat/utils.c | 12 ++++++------
 1 file changed, 6 insertions(+), 6 deletions(-)

diff --git a/libavformat/utils.c b/libavformat/utils.c
index b25e665..c01f527 100644
--- a/libavformat/utils.c
+++ b/libavformat/utils.c
@@ -3876,13 +3876,13 @@ AVProgram *av_new_program(AVFormatContext *ac, int id)
             return NULL;
         dynarray_add(&ac->programs, &ac->nb_programs, program);
         program->discard = AVDISCARD_NONE;
-    }
-    program->id = id;
-    program->pts_wrap_reference = AV_NOPTS_VALUE;
-    program->pts_wrap_behavior = AV_PTS_WRAP_IGNORE;
+        program->id = id;
+        program->pts_wrap_reference = AV_NOPTS_VALUE;
+        program->pts_wrap_behavior = AV_PTS_WRAP_IGNORE;
 
-    program->start_time =
-    program->end_time   = AV_NOPTS_VALUE;
+        program->start_time =
+        program->end_time   = AV_NOPTS_VALUE;
+    }
 
     return program;
 }
-- 
2.5.0

