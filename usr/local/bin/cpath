#!/usr/bin/env bash


function is_defined() {
    eval local tmp=$(echo '${'${1}'-undefined}')
    eval local tmp2=$(echo '${'${1}'}')
    if [ "${tmp}" = "undefined" -a "${tmp2}" != "undefined" ] ; then
        return 1
    else
        return 0
    fi
}

MANPATH="/usr/local/man:/usr/share/man:/usr/man:/share/man"
INFOPATH="/usr/local/info:/usr/share/info:/usr/info:/share/info"
ACLOCAL_PATH="/usr/share/aclocal"
for opt in "$@"
do
    case "${opt}" in
        i686 | x86 | mingw32)
            PATH="/mingw32/local/bin:/mingw32/bin:/opt/mercurial:${MSYS2_PATH}:/opt/cmake/bin:${CMD_PATH}:${INNO_DIR}:/d/encode/tools"
            ACLOCAL_PATH="/mingw32/local/share/aclocal:/mingw32/share/aclocal:${ACLOCAL_PATH}"
            PKG_CONFIG_PATH="/mingw32/local/lib/pkgconfig:/mingw32/lib/pkgconfig"
            MANPATH="/mingw32/share/man:${MANPATH}"
            INFOPATH="/mingw32/share/info:${INFOPATH}"
            MSYSTEM=MINGW32
            CARCH=i686
            CHOST=${CARCH}-w64-mingw32
            ;;
        x86_64 | x64 | mingw64)
            PATH="/mingw64/local/bin:/mingw64/bin:/opt/mercurial:${MSYS2_PATH}:/opt/cmake/bin:${CMD_PATH}:${INNO_DIR}:/d/encode/tools"
            ACLOCAL_PATH="/mingw64/local/share/aclocal:/mingw64/share/aclocal:${ACLOCAL_PATH}"
            PKG_CONFIG_PATH="/mingw64/local/lib/pkgconfig:/mingw64/lib/pkgconfig"
            MANPATH="/mingw64/share/man:${MANPATH}"
            INFOPATH="/mingw64/share/info:${INFOPATH}"
            MSYSTEM=MINGW64
            CARCH=x86_64
            CHOST=${CARCH}-w64-mingw32
            ;;
        msys | msys2)
            PATH="${MSYS2_PATH}:/opt/cmake/bin:${CMD_PATH}"
            PKG_CONFIG_PATH="/usr/local/lib/pkgconfig:/usr/lib/pkgconfig:/lib/pkgconfig"
            MSYSTEM=MSYS
            CARCH=x86_64
            CHOST=${CARCH}-unknown-msys
            ;;
        cmd)
            PATH="${CMD_PATH}:/opt/mercurial:${MSYS2_PATH}:/opt/cmake/bin:${INNO_DIR}:/d/encode/tools"
            unset PKG_CONFIG_PATH
            MSYTEM=MSYS
            CARCH=x86_64
            CHOST=${CARCH}-unknown-msys
            ;;
        icl64 | vc64)
            PATH="${VC64_DIR}:/mingw64/bin:/opt/mercurial:${MSYS2_PATH}:/opt/cmake/bin:${CMD_PATH}:${INNO_DIR}:/d/encode/tools"
            unset PKG_CONFIG_PATH
            MSYSTEM=MINGW64
            CARCH=x86_64
            CHOST=${CARCH}-w64-mingw32
            ;;
        rust)
            PATH="/opt/mingw32_rust/bin:/opt/mercurial:${MSYS2_PATH}:/opt/cmake/bin:${CMD_PATH}"
            unset PKG_CONFIG_PATH
            MSYSTEM=MINGW32
            CARCH=i686
            CHOST=${CARCH}-w64-mingw32
            ;;
        *)
            echo "Unknown Option $opt"
    esac
done

export PATH ACLOCAL_PATH MANPATH INFOPATH MSYSTEM CARCH CHOST

if is_defined PKG_CONFIG_PATH > /dev/null ; then
    export PKG_CONFIG_PATH
fi
